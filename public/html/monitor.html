<!DOCTYPE html>
<html>
    <head>
        <title>Page de Quizz</title>

        <link
            href="https://fonts.googleapis.com/css?family=Lato"
            rel="stylesheet"
        />
        <link
            href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900"
            rel="stylesheet"
        />
        <link
            href="https://fonts.googleapis.com/css?family=Muli"
            rel="stylesheet"
        />

        <link
            href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
            rel="stylesheet"
            integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
            crossorigin="anonymous"
        />
        <link
            rel="stylesheet"
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
            integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
            crossorigin="anonymous"
        />

        <!-- Custom styles  -->
        <link href="../css/new-age.min.css" rel="stylesheet" />

        <link rel="stylesheet" type="text/css" href="../css/style.css" />
        
    </head>
    <body>
        <div class="container" id="pageOne">
            <div class="topbar">
                <div class="topbar-left">
                    <span>
                        <img
                            src="../images/logo2.png"
                            alt=""
                            height="150"
                            width="150"
                        />
                    </span>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 offset-md-1 pt-5">
                    <table class="table table-borderless">
                        <tr id="waitingPlayers">
                            <td class="text-center text-white">
                                <em class="fa fa-user fa-4x"></em>
                                <div class="display-6 text-white"><em></em></div>
                            </td>
                            <td class="text-center text-white">
                                <em class="fa fa-user fa-4x"></em>
                                <div class="display-6"><em></em></div>
                            </td>
                            <td class="text-center text-white">
                                <em class="fa fa-user fa-4x"></em>
                                <div class="display-6"><em></em></div>
                            </td>
                            <td class="text-center text-white">
                                <em class="fa fa-user fa-4x"></em>
                                <div class="display-6 text-white"><em></em></div>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="row" id="waitingPlayersSpan">
                <div class="col-md-5 offset-md-5 pt-4">
                    <span class="h3 text-center text-white"
                        >En attente de joueur<span id="wait">.</span></span
                    >
                </div>
            </div>

            <div class="row my-5">
                <div class="col-md-2">
                    <button
                        type="button"
                        id="startNewGame"
                        class="btn btn-outline-warning btn-xl js-scroll-trigger"
                    >
                        Nouvelle Partie
                    </button>
                </div>
                <div class="col-md-2 offset-md-8">
                    <button
                        type="button"
                        id="playGame"
                        class="btn btn-outline-white btn-xl js-scroll-trigger"
                    >
                        Jouez!
                    </button>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6 offset-md-0 pt-2">
                    <span class="text-white">
                        <img
                            src="../images/warning_icon.png"
                            alt=""
                            height="30"
                        />
                        Il faut un minimum de deux joueurs pour commencer le
                        jeu</span
                    >
                </div>
            </div>
        </div>

        <!-- Page 2 -->
        <div class="container pt-5" id="pageTwo" hidden="hidden">
            <div class="row">
                <div class="col-8 offset-2 shadow-lg bg-white rounded">
                    <div class="row">
                        <div class="col-12 align-self-center">
                            <div class="row my-5">
                                <div class="col-3">
                                    <div class="text-center">
                                        <img
                                            src="../images/rob2.png"
                                            alt="robot"
                                            class="img-fluid"
                                            width="70"
                                            height="70"
                                        />
                                    </div>
                                </div>
                                <div class="col-9">
                                    <h2
                                        class="display-6 pr-3 text-dark"
                                        id="questionValue"
                                    ></h2>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-8 offset-2">
                                    <div class="progress">
                                        <div
                                            class="progress-bar progress-bar-striped progress-bar-animated bg-info"
                                            role="progressbar"
                                            aria-valuenow="0"
                                            aria-valuemin="0"
                                            aria-valuemax="100"
                                            style="width: 0%;"
                                            id="timeProgress"
                                        ></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row my-4" id="responseDiv">
                        <div class="col-md-6 offset-md-3 text-center">
                            <span class="h4 text-success"
                                ><strong><em id="responseValue"></em</strong>
                            ></span>
                        </div>
                    </div>
                    <div class="row mt-2">
                        <div class="col-md-6 offset-md-3 pt-3">
                            <table class="table table-bordered">
                                <tr class="tabScore"></tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Page 3 -->
        <div class="container" id="pageThree" hidden="hidden">
            <div>
                <div class="text-center text-white">
                    <i class="fa fa-refresh fa-spin fa-5x fa-fw"></i
                    ><span class="sr-only">Loading...</span>
                </div>
            </div>
        </div>
        <div class="container pt-5" id="pageFour" hidden="hidden">
            <div class="row">
                <div class="col-8 offset-2 shadow-lg bg-white rounded">
                    <div class="row mt-1 mb-3">
                        <div class="col-md-8 offset-md-4">
                            <div class="row my-2">
                                <div class="col-md-6">
                                    <div class="text-center">
                                        <img
                                            src="../images/coupe.jpg"
                                            alt="coupe"
                                            class="img-fluid"
                                            alt="Responsive image"
                                            height="200"
                                            width="200"
                                        />
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 text-center">
                                    <span>
                                        <strong
                                            id="winner"
                                            class="display-4 text-success"
                                        ></strong>
                                        a gagn√©
                                    </span>
                                </div>
                            </div>
                            <div class="row my-2">
                                <div class="col-md-6 text-center">
                                    <button
                                        class="btn btn-outline-primary"
                                        id="startNewGame"
                                    >
                                        Nouvelle partie
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mt-5">
                        <div class="col-md-6 offset-md-3 pt-3">
                            <table class="table table-bordered">
                                <tr class="tabScore"></tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- script -->
        <script
            src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
            integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
            crossorigin="anonymous"
        ></script>
        <script
            src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
            integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
            crossorigin="anonymous"
        ></script>

        <script>
            var dots = window.setInterval(function () {
                var wait = document.getElementById("wait");
                if (wait) {
                    if (wait.innerHTML.length > 3) wait.innerHTML = "";
                    else wait.innerHTML += ".";
                } else {
                    clearInterval(dots);
                }
            }, 500);
            document.getElementById("playGame").disabled = true;
        </script>

        <!-- JavaScripts -->
        <script src="/socket.io/socket.io.js"></script>
        <script src="/javascripts/QuizzCanvas.js"></script>
        <script src="/javascripts/QuizzSocket.js"></script>
        <script src="/javascripts/QuizzEvents.js"></script>
        <script>
            const canvas = new QuizzCanvas();
            const socket = new QuizzSocket(canvas);
            const event = new QuizzEvents(socket);
        </script>
    </body>
</html>
